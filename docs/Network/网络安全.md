# 网络安全

**常见 Web 攻击技术**

## 跨站脚本攻击 XSS

跨站脚本攻击（Cross-Site Scripting， XSS）是指通过**存在安全漏洞的 Web 网站注册用户的浏览器内运行非法的 HTML 标签或者 JavaScript 代码**的一种攻击方式。**动态创建的 HTML 可能存在安全漏洞**。

该攻击可能造成以下影响：

- 利用**虚假输入表单**骗取用户个人信息
- 利用脚本窃取用户的 **Cookie** 值，被害者在不知情的情况下，帮助攻击者发送恶意请求
- 显示**伪造的文章或者图片和广告**

防范：

- 一个信念: 不要相信用户的输入，对**输入内容转码或者过滤，让其不可执行**。
- 两个利用: 利用 **CSP**(内容安全策略)，它的核心思想就是**服务器决定浏览器加载哪些资源**，利用 Cookie 的 **HttpOnly** 属性（js脚本将无法读取到cookie信息）。

## SQL 注入攻击

SQL 注入（SQL Injection）是**指针对 Web 应用使用的数据库，通过运行非法的 SQL 而产生的攻击**。该安全隐患有可能引发极大的安全威胁，有时会直接导致个人信息及机密信息的泄露。

SQL 注入可能会导致如下影响：

- 非法查看或篡改数据库内的数据
- 规避认证
- 执行和数据库服务器业务关联的程序等

防范：

**不要使用动态SQL**  **不要将敏感数据保留在纯文本中**   **限制数据库权限和特权**   **使用Web应用程序防火墙**

## 跨站请求伪造 CSRF

指的是黑客诱导用户点击链接，打开黑客的网站，然后黑客利用用户**目前的登录状态**发起跨站请求。

**诱导自动发 GET POST 请求**

CSRF 攻击并不需要将恶意代码注入用户当前页面的`html`文档中，而是跳转到新的页面，利用服务器的**验证漏洞**和**用户之前的登录状态**来模拟用户进行操作。

防范：

1. 利用Cookie的**SameSite**属性，对请求中 Cookie 的携带作一些限制，**Strict模式下，浏览器完全禁止第三方请求携带Cookie。**

2. 验证来源站点 **Origin**和**Referer**。