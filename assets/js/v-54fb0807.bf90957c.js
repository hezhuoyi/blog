(self.webpackChunkblog=self.webpackChunkblog||[]).push([[4178],{780:(n,l,e)=>{"use strict";e.r(l),e.d(l,{data:()=>a});const a={key:"v-54fb0807",path:"/Framework/React/Fiber.html",title:"Fiber",lang:"zh-US",frontmatter:{},excerpt:"",headers:[{level:2,title:"Fiberæ¶æ„",slug:"fiberæ¶æ„",children:[]},{level:2,title:"å…³äºæ—¶é—´åˆ‡ç‰‡",slug:"å…³äºæ—¶é—´åˆ‡ç‰‡",children:[{level:3,title:"å®ç°ä¸€ä¸ªæ—¶é—´åˆ‡ç‰‡ï¼šå°†é•¿ä»»åŠ¡åˆ†è§£æˆæ›´å°çš„ä»»åŠ¡ï¼Œé¿å…é˜»å¡ä¸»è¿›ç¨‹ã€‚",slug:"å®ç°ä¸€ä¸ªæ—¶é—´åˆ‡ç‰‡-å°†é•¿ä»»åŠ¡åˆ†è§£æˆæ›´å°çš„ä»»åŠ¡-é¿å…é˜»å¡ä¸»è¿›ç¨‹ã€‚",children:[]}]},{level:2,title:"Reactçš„diff",slug:"reactçš„diff",children:[{level:3,title:"1. åŒå±‚æ¯”å¯¹ç­–ç•¥",slug:"_1-åŒå±‚æ¯”å¯¹ç­–ç•¥",children:[]},{level:3,title:"2. å”¯ä¸€æ ‡è¯†ç­–ç•¥",slug:"_2-å”¯ä¸€æ ‡è¯†ç­–ç•¥",children:[]},{level:3,title:"3. ç»„ä»¶æ¨¡å¼ç­–ç•¥",slug:"_3-ç»„ä»¶æ¨¡å¼ç­–ç•¥",children:[]},{level:3,title:"å®è·µå»ºè®®",slug:"å®è·µå»ºè®®",children:[]},{level:3,title:"diff ç­–ç•¥",slug:"diff-ç­–ç•¥",children:[]},{level:3,title:"tree diff",slug:"tree-diff",children:[]},{level:3,title:"component diff",slug:"component-diff",children:[]},{level:3,title:"element diff",slug:"element-diff",children:[]},{level:3,title:"vueå’Œreactçš„diffç®—æ³•çš„åŒºåˆ«",slug:"vueå’Œreactçš„diffç®—æ³•çš„åŒºåˆ«",children:[]}]},{level:2,title:"ä¼˜åŒ–ç­–ç•¥",slug:"ä¼˜åŒ–ç­–ç•¥",children:[{level:3,title:"1. å¼‚æ­¥åŒ–:",slug:"_1-å¼‚æ­¥åŒ–",children:[]},{level:3,title:"2. ä»»åŠ¡åˆ†å‰²",slug:"_2-ä»»åŠ¡åˆ†å‰²",children:[]}]}],filePathRelative:"Framework/React/Fiber.md"}},4452:(n,l,e)=>{"use strict";e.r(l),e.d(l,{default:()=>rl});var a=e(6252);const t=e.p+"assets/img/time-slicing.06d6ac63.png",s=(0,a.Wm)("h1",{id:"fiber",tabindex:"-1"},[(0,a.Wm)("a",{class:"header-anchor",href:"#fiber","aria-hidden":"true"},"#"),(0,a.Uk)(" Fiber")],-1),m=(0,a.Wm)("p",null,"èƒŒæ™¯: ç”±äºæµè§ˆå™¨å®ƒå°† GUI æç»˜ï¼Œæ—¶é—´å™¨å¤„ç†ï¼Œäº‹ä»¶å¤„ç†ï¼ŒJS æ‰§è¡Œï¼Œè¿œç¨‹èµ„æºåŠ è½½ç»Ÿç»Ÿæ”¾åœ¨ä¸€èµ·ã€‚å¦‚æœæ‰§è¡Œ js çš„æ›´æ–°ï¼Œ å ç”¨äº†å¤ªä¹…çš„è¿›ç¨‹å°±ä¼šå¯¼è‡´æµè§ˆå™¨çš„åŠ¨ç”»æ²¡åŠæ³•æ‰§è¡Œï¼Œæˆ–è€… input å“åº”æ¯”è¾ƒæ…¢ã€‚",-1),r=(0,a.Wm)("p",null,"react fiber ä½¿ç”¨äº† 2 ä¸ªæ ¸å¿ƒè§£å†³æ€æƒ³:",-1),u=(0,a.Wm)("ul",null,[(0,a.Wm)("li",null,[(0,a.Wm)("strong",null,"è®©æ¸²æŸ“æœ‰ä¼˜å…ˆçº§")]),(0,a.Wm)("li",null,[(0,a.Wm)("strong",null,"å¯ä¸­æ–­ React Fiber å°†è™šæ‹Ÿ DOM çš„æ›´æ–°è¿‡ç¨‹åˆ’åˆ†ä¸¤ä¸ªé˜¶æ®µ"),(0,a.Uk)("ï¼Œreconciler è°ƒå’Œé˜¶æ®µä¸ commit é˜¶æ®µ.")])],-1),o=(0,a.Wm)("p",null,"ä¸€æ¬¡æ›´æ–°è¿‡ç¨‹ä¼šåˆ†ä¸ºå¾ˆå¤šä¸ªåˆ†ç‰‡å®Œæˆ, æ‰€ä»¥å¯èƒ½ä¸€ä¸ªä»»åŠ¡è¿˜æ²¡æœ‰æ‰§è¡Œå®Œ, å°±è¢«å¦ä¸€ä¸ªä¼˜å…ˆçº§æ›´é«˜çš„æ›´æ–°è¿‡ç¨‹æ‰“æ–­, è¿™æ—¶å€™, ä½ä¼˜å…ˆçº§çš„å·¥ä½œå°±å®Œå…¨ä½œåºŸ, ç„¶åç­‰å¾…æœºä¼šé‡å¤´åˆ°æ¥.",-1),W=(0,a.Wm)("h4",{id:"è°ƒåº¦çš„è¿‡ç¨‹",tabindex:"-1"},[(0,a.Wm)("a",{class:"header-anchor",href:"#è°ƒåº¦çš„è¿‡ç¨‹","aria-hidden":"true"},"#"),(0,a.Uk)(" è°ƒåº¦çš„è¿‡ç¨‹")],-1),i=(0,a.Wm)("p",null,[(0,a.Uk)("requestIdleCallbackï¼š"),(0,a.Wm)("strong",null,"é¦–å…ˆ react ä¼šæ ¹æ®ä»»åŠ¡çš„ä¼˜å…ˆçº§å»åˆ†é…å„è‡ªçš„è¿‡æœŸæ—¶é—´"),(0,a.Uk)(". requestIdleCallback åœ¨æ¯ä¸€å¸§çš„å¤šä½™æ—¶é—´(é»„è‰²çš„åŒºåŸŸ)è°ƒç”¨. è°ƒç”¨ channel.port1.onmessage , å…ˆå»åˆ¤æ–­å½“å‰æ—¶é—´æ˜¯å¦å°äºä¸‹ä¸€å¸§æ—¶é—´, å¦‚æœå°äºåˆ™ä»£è¡¨æˆ‘ä»¬"),(0,a.Wm)("strong",null,"æœ‰ç©ºä½™æ—¶é—´å»æ‰§è¡Œä»»åŠ¡"),(0,a.Uk)(", å¦‚æœå¤§äºå°±å»æ‰§è¡Œè¿‡æœŸä»»åŠ¡,å¦‚æœä»»åŠ¡æ²¡è¿‡æœŸ. è¿™ä¸ªä»»åŠ¡å°±è¢«ä¸¢åˆ°"),(0,a.Wm)("strong",null,"ä¸‹ä¸€å¸§æ‰§è¡Œ"),(0,a.Uk)("äº†.ç”±äº requestIdleCallback çš„å…¼å®¹æ€§é—®é¢˜, react è‡ªå·±å®ç°äº†ä¸€ä¸ª requestIdleCallback")],-1),k=(0,a.Wm)("h2",{id:"fiberæ¶æ„",tabindex:"-1"},[(0,a.Wm)("a",{class:"header-anchor",href:"#fiberæ¶æ„","aria-hidden":"true"},"#"),(0,a.Uk)(" Fiberæ¶æ„")],-1),c=(0,a.Wm)("p",null,[(0,a.Uk)("React Fiberæ˜¯å¯¹Reactæ¥è¯´æ˜¯ä¸€æ¬¡é©å‘½ï¼Œè§£å†³äº†Reacté¡¹ç›®ä¸¥é‡ä¾èµ–äºæ‰‹å·¥ä¼˜åŒ–çš„ç—›ç‚¹ï¼Œ"),(0,a.Wm)("strong",null,"é€šè¿‡ç³»ç»Ÿçº§åˆ«çš„æ—¶é—´è°ƒåº¦ï¼Œå®ç°åˆ’æ—¶ä»£çš„æ€§èƒ½ä¼˜åŒ–"),(0,a.Uk)("ã€‚")],-1),d=(0,a.Wm)("p",null,[(0,a.Uk)("JavaScript æ˜¯å•çº¿ç¨‹è¿è¡Œçš„ï¼ŒåŒæ—¶åªèƒ½åšä¸€ä»¶äº‹æƒ…ï¼Œè¿™ä¸ªå’Œ "),(0,a.Wm)("code",null,"DOS"),(0,a.Uk)(" çš„å•ä»»åŠ¡æ“ä½œç³»ç»Ÿä¸€æ ·çš„ï¼Œäº‹æƒ…åªèƒ½ä¸€ä»¶ä¸€ä»¶çš„å¹²ã€‚è¦æ˜¯å‰é¢æœ‰ä¸€ä¸ªå‚»å‰ä»»åŠ¡é•¿æœŸéœ¸å CPUï¼Œåé¢ä»€ä¹ˆäº‹æƒ…éƒ½å¹²ä¸äº†ï¼Œæµè§ˆå™¨ä¼šå‘ˆç°å¡æ­»çš„çŠ¶æ€ï¼Œè¿™æ ·çš„ç”¨æˆ·ä½“éªŒå°±ä¼šéå¸¸å·®ã€‚å¯¹äºâ€™å‰ç«¯æ¡†æ¶â€˜æ¥è¯´ï¼Œè§£å†³è¿™ç§é—®é¢˜æœ‰ä¸‰ä¸ªæ–¹å‘:")],-1),p=(0,a.Wm)("ul",null,[(0,a.Wm)("li",null,[(0,a.Uk)("1ï¸âƒ£ "),(0,a.Wm)("strong",null,"ä¼˜åŒ–æ¯ä¸ªä»»åŠ¡ï¼Œè®©å®ƒæœ‰å¤šå¿«å°±å¤šå¿«ã€‚æŒ¤å‹CPUè¿ç®—é‡")]),(0,a.Wm)("li",null,[(0,a.Uk)("2ï¸âƒ£ "),(0,a.Wm)("strong",null,"å¿«é€Ÿå“åº”ç”¨æˆ·"),(0,a.Uk)("ï¼Œè®©ç”¨æˆ·è§‰å¾—å¤Ÿå¿«ï¼Œä¸èƒ½é˜»å¡ç”¨æˆ·çš„äº¤äº’")]),(0,a.Wm)("li",null,[(0,a.Uk)("3ï¸âƒ£ å°è¯• "),(0,a.Wm)("strong",null,"Worker å¤šçº¿ç¨‹")])],-1),U=(0,a.Uk)("Vue é€‰æ‹©çš„æ˜¯ç¬¬1ï¸âƒ£, å› ä¸ºå¯¹äºVueæ¥è¯´ï¼Œä½¿ç”¨"),f=(0,a.Wm)("code",null,"æ¨¡æ¿",-1),h=(0,a.Uk)("è®©å®ƒæœ‰äº†å¾ˆå¤šä¼˜åŒ–çš„ç©ºé—´(æ¯”å¦‚é™æ€èŠ‚ç‚¹çš„åˆ†æ)ï¼Œé…åˆå“åº”å¼æœºåˆ¶å¯ä»¥è®©Vueå¯ä»¥ç²¾ç¡®åœ°è¿›è¡ŒèŠ‚ç‚¹æ›´æ–°, è¯»è€…å¯ä»¥å»çœ‹ä¸€ä¸‹"),g={href:"https://www.yuque.com/vueconf/2019/gwn1z0",target:"_blank",rel:"noopener noreferrer"},b=(0,a.Uk)("ä»Šå¹´Vue Conf å°¤é›¨æºªçš„æ¼”è®²"),v=(0,a.Uk)("ï¼Œéå¸¸æ£’!ï¼›è€Œ React é€‰æ‹©äº†2ï¸âƒ£ ã€‚å¯¹äºWorker å¤šçº¿ç¨‹æ¸²æŸ“æ–¹æ¡ˆä¹Ÿæœ‰äººå°è¯•ï¼Œè¦ä¿è¯çŠ¶æ€å’Œè§†å›¾çš„ä¸€è‡´æ€§ç›¸å½“éº»çƒ¦ã€‚"),w=(0,a.Wm)("p",null,[(0,a.Uk)("ä¸ºä»€ä¹ˆéœ€è¦å¼•å…¥Fiber => "),(0,a.Wm)("strong",null,"React ä¼šé€’å½’æ¯”å¯¹VirtualDOMæ ‘ï¼Œæ‰¾å‡ºéœ€è¦å˜åŠ¨çš„èŠ‚ç‚¹ï¼Œç„¶ååŒæ­¥æ›´æ–°å®ƒä»¬, ä¸€æ°”å‘µæˆ"),(0,a.Uk)("ã€‚(Reconcilation)ï¼Œæ­¤æœŸé—´React ä¼šéœ¸å ç€æµè§ˆå™¨èµ„æºï¼Œä¸€åˆ™ä¼š"),(0,a.Wm)("strong",null,"å¯¼è‡´ç”¨æˆ·è§¦å‘çš„äº‹ä»¶å¾—ä¸åˆ°å“åº”, äºŒåˆ™ä¼šå¯¼è‡´æ‰å¸§"),(0,a.Uk)("ï¼Œç”¨æˆ·å¯ä»¥æ„ŸçŸ¥åˆ°è¿™äº›å¡é¡¿ã€‚")],-1),x=(0,a.Wm)("p",null,[(0,a.Wm)("strong",null,"ä¸ºäº†ç»™ç”¨æˆ·åˆ¶é€ ä¸€ç§åº”ç”¨å¾ˆå¿«çš„'å‡è±¡'ï¼Œæˆ‘ä»¬ä¸èƒ½è®©ä¸€ä¸ªç¨‹åºé•¿æœŸéœ¸å ç€èµ„æº. ä½ å¯ä»¥å°†æµè§ˆå™¨çš„æ¸²æŸ“ã€å¸ƒå±€ã€ç»˜åˆ¶ã€èµ„æºåŠ è½½(ä¾‹å¦‚HTMLè§£æ)ã€äº‹ä»¶å“åº”ã€è„šæœ¬æ‰§è¡Œè§†ä½œæ“ä½œç³»ç»Ÿçš„'è¿›ç¨‹'ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡æŸäº›è°ƒåº¦ç­–ç•¥åˆç†åœ°åˆ†é…CPUèµ„æºï¼Œä»è€Œæé«˜æµè§ˆå™¨çš„ç”¨æˆ·å“åº”é€Ÿç‡, åŒæ—¶å…¼é¡¾ä»»åŠ¡æ‰§è¡Œæ•ˆç‡"),(0,a.Uk)("ã€‚")],-1),R=(0,a.Wm)("p",null,[(0,a.Wm)("strong",null,"æ‰€ä»¥ React é€šè¿‡Fiber æ¶æ„ï¼Œè®©è‡ªå·±çš„Reconcilation è¿‡ç¨‹å˜æˆå¯è¢«ä¸­æ–­ã€‚ 'é€‚æ—¶'åœ°è®©å‡ºCPUæ‰§è¡Œæƒï¼Œé™¤äº†å¯ä»¥è®©æµè§ˆå™¨åŠæ—¶åœ°å“åº”ç”¨æˆ·çš„äº¤äº’ï¼Œè¿˜æœ‰å…¶ä»–å¥½å¤„"),(0,a.Uk)(":")],-1),y=(0,a.Uk)("ä¸å…¶ä¸€æ¬¡æ€§æ“ä½œå¤§é‡ DOM èŠ‚ç‚¹ç›¸æ¯”, åˆ†æ‰¹å»¶æ—¶å¯¹DOMè¿›è¡Œæ“ä½œï¼Œå¯ä»¥"),_=(0,a.Wm)("strong",null,"å¾—åˆ°æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ",-1),C=(0,a.Uk)("ã€‚è¿™ä¸ªåœ¨"),F={href:"https://juejin.im/post/5d76f469f265da039a28aff7#heading-1",target:"_blank",rel:"noopener noreferrer"},I=(0,a.Uk)("ã€Šã€Œå‰ç«¯è¿›é˜¶ã€é«˜æ€§èƒ½æ¸²æŸ“åä¸‡æ¡æ•°æ®(æ—¶é—´åˆ†ç‰‡)ã€‹"),O=(0,a.Uk)(" ä»¥åŠå¸å¾’æ­£ç¾çš„"),M={href:"https://zhuanlan.zhihu.com/p/37095662",target:"_blank",rel:"noopener noreferrer"},D=(0,a.Uk)("ã€ŠReact Fiberæ¶æ„ã€‹"),E=(0,a.Uk)(" éƒ½åšäº†ç›¸å…³å®éªŒ"),V=(0,a.Uk)("å¸å¾’æ­£ç¾åœ¨"),S={href:"https://zhuanlan.zhihu.com/p/37095662",target:"_blank",rel:"noopener noreferrer"},q=(0,a.Uk)("ã€ŠReact Fiberæ¶æ„ã€‹"),N=(0,a.Uk)(" ä¹Ÿæåˆ°ï¼š"),T=(0,a.Wm)("strong",null,"ğŸ”´ç»™æµè§ˆå™¨ä¸€ç‚¹å–˜æ¯çš„æœºä¼šï¼Œä»–ä¼šå¯¹ä»£ç è¿›è¡Œç¼–è¯‘ä¼˜åŒ–ï¼ˆJITï¼‰åŠè¿›è¡Œçƒ­ä»£ç ä¼˜åŒ–ï¼Œæˆ–è€…å¯¹reflowè¿›è¡Œä¿®æ­£",-1),P=(0,a.Uk)("."),j=(0,a.Wm)("p",null,[(0,a.Uk)("React Fiber çš„æ€æƒ³å’Œåç¨‹çš„æ¦‚å¿µæ˜¯å¥‘åˆçš„: "),(0,a.Wm)("strong",null,"ğŸ”´React æ¸²æŸ“çš„è¿‡ç¨‹å¯ä»¥è¢«ä¸­æ–­ï¼Œå¯ä»¥å°†æ§åˆ¶æƒäº¤å›æµè§ˆå™¨ï¼Œè®©ä½ç»™é«˜ä¼˜å…ˆçº§çš„ä»»åŠ¡ï¼Œæµè§ˆå™¨ç©ºé—²åå†æ¢å¤æ¸²æŸ“"),(0,a.Uk)("ã€‚")],-1),z=(0,a.Wm)("p",null,[(0,a.Wm)("strong",null,"ä¸»åŠ¨è®©å‡ºæœºåˆ¶"),(0,a.Uk)(" -- é€šè¿‡"),(0,a.Wm)("code",null,"requestIdleCallback"),(0,a.Uk)("å®ç°")],-1),J=(0,a.Wm)("p",null,[(0,a.Wm)("strong",null,"è®¾ç½®ä»»åŠ¡ä¼˜å…ˆçº§")],-1),A=(0,a.Wm)("ol",null,[(0,a.Wm)("li",null,"æ•°æ®ç»“æ„çš„è°ƒæ•´ æ ˆ=>é“¾è¡¨")],-1),G=(0,a.Wm)("p",null,[(0,a.Wm)("strong",null,[(0,a.Uk)("Fiber å°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„å·¥ä½œå•å…ƒï¼ŒperformUnitOfWork(æ·±åº¦ä¼˜å…ˆéå†)è´Ÿè´£å¯¹ "),(0,a.Wm)("code",null,"Fiber"),(0,a.Uk)(" è¿›è¡Œæ“ä½œï¼Œå¹¶æŒ‰ç…§æ·±åº¦éå†çš„é¡ºåºè¿”å›ä¸‹ä¸€ä¸ª Fiber")]),(0,a.Uk)("ã€‚")],-1),K=(0,a.Wm)("p",null,[(0,a.Wm)("strong",null,[(0,a.Uk)("å› ä¸ºä½¿ç”¨äº†é“¾è¡¨ç»“æ„ï¼Œå³ä½¿å¤„ç†æµç¨‹è¢«ä¸­æ–­äº†ï¼Œæˆ‘ä»¬éšæ—¶å¯ä»¥ä»ä¸Šæ¬¡æœªå¤„ç†å®Œçš„"),(0,a.Wm)("code",null,"Fiber"),(0,a.Uk)("ç»§ç»­éå†ä¸‹å»")]),(0,a.Uk)("ã€‚")],-1),X=(0,a.Wm)("p",null,"2.ä¸¤ä¸ªé˜¶æ®µçš„æ‹†åˆ†",-1),H=(0,a.Wm)("p",null,[(0,a.Wm)("strong",null,"åè°ƒé˜¶æ®µ"),(0,a.Uk)(": å¯ä»¥è®¤ä¸ºæ˜¯ Diff é˜¶æ®µ, "),(0,a.Wm)("strong",null,"è¿™ä¸ªé˜¶æ®µå¯ä»¥è¢«ä¸­æ–­"),(0,a.Uk)(", è¿™ä¸ªé˜¶æ®µä¼šæ‰¾å‡ºæ‰€æœ‰èŠ‚ç‚¹å˜æ›´ï¼Œä¾‹å¦‚èŠ‚ç‚¹æ–°å¢ã€åˆ é™¤ã€å±æ€§å˜æ›´ç­‰ç­‰, è¿™äº›å˜æ›´React ç§°ä¹‹ä¸º'"),(0,a.Wm)("code",null,"å‰¯ä½œç”¨"),(0,a.Uk)("(Effect)' . ä»¥ä¸‹ç”Ÿå‘½å‘¨æœŸé’©å­ä¼šåœ¨åè°ƒé˜¶æ®µè¢«è°ƒç”¨ï¼š")],-1),L=(0,a.Wm)("p",null,[(0,a.Wm)("strong",null,"æäº¤é˜¶æ®µ"),(0,a.Uk)(": å°†ä¸Šä¸€ä¸ªé˜¶æ®µè®¡ç®—å‡ºæ¥çš„éœ€è¦å¤„ç†çš„ "),(0,a.Wm)("strong",null,"å‰¯ä½œç”¨(Effects)"),(0,a.Uk)(" ä¸€æ¬¡æ€§æ‰§è¡Œäº†ã€‚"),(0,a.Wm)("strong",null,"è¿™ä¸ªé˜¶æ®µå¿…é¡»åŒæ­¥æ‰§è¡Œï¼Œä¸èƒ½è¢«æ‰“æ–­"),(0,a.Uk)(". è¿™äº›ç”Ÿå‘½å‘¨æœŸé’©å­åœ¨æäº¤é˜¶æ®µè¢«æ‰§è¡Œ:")],-1),Y=(0,a.Wm)("p",null,"åœ¨åè°ƒé˜¶æ®µå¦‚æœæ—¶é—´ç‰‡ç”¨å®Œï¼ŒReactå°±ä¼šé€‰æ‹©è®©å‡ºæ§åˆ¶æƒã€‚å› ä¸ºåè°ƒé˜¶æ®µæ‰§è¡Œçš„å·¥ä½œä¸ä¼šå¯¼è‡´ä»»ä½•ç”¨æˆ·å¯è§çš„å˜æ›´ï¼Œæ‰€ä»¥åœ¨è¿™ä¸ªé˜¶æ®µè®©å‡ºæ§åˆ¶æƒä¸ä¼šæœ‰ä»€ä¹ˆé—®é¢˜ã€‚",-1),B=(0,a.Wm)("p",null,[(0,a.Wm)("strong",null,"æ›´æ–°ä»»åŠ¡è¿˜æ˜¯ä¸²è¡Œæ‰§è¡Œçš„ï¼Œæˆ‘ä»¬åªæ˜¯å°†æ•´ä¸ªè¿‡ç¨‹ç¢ç‰‡åŒ–äº†. å¯¹äºé‚£äº›éœ€è¦ä¼˜å…ˆå¤„ç†çš„æ›´æ–°ä»»åŠ¡è¿˜æ˜¯ä¼šè¢«é˜»å¡"),(0,a.Uk)("ã€‚=>")],-1),Q=(0,a.Wm)("p",null,[(0,a.Wm)("strong",null,"è¦è®©é«˜ä¼˜å…ˆçº§ä»»åŠ¡æ’é˜Ÿ, é¦–å…ˆè¦ä¿è¯çŠ¶æ€æ›´æ–°çš„æ—¶åº"),(0,a.Uk)("ã€‚=>")],-1),Z=(0,a.Wm)("p",null,[(0,a.Wm)("strong",null,"æ‰€æœ‰æ›´æ–°ä»»åŠ¡æŒ‰ç…§é¡ºåºæ’å…¥ä¸€ä¸ªé˜Ÿåˆ—, çŠ¶æ€å¿…é¡»æŒ‰ç…§æ’å…¥é¡ºåºè¿›è¡Œè®¡ç®—ï¼Œä½†ä»»åŠ¡å¯ä»¥æŒ‰ä¼˜å…ˆçº§é¡ºåºæ‰§è¡Œ")],-1),$=(0,a.Wm)("h2",{id:"å…³äºæ—¶é—´åˆ‡ç‰‡",tabindex:"-1"},[(0,a.Wm)("a",{class:"header-anchor",href:"#å…³äºæ—¶é—´åˆ‡ç‰‡","aria-hidden":"true"},"#"),(0,a.Uk)(" å…³äºæ—¶é—´åˆ‡ç‰‡")],-1),nn=(0,a.Wm)("p",null,[(0,a.Uk)("ä¸ºä»€ä¹ˆvue3å»é™¤äº†æ—¶é—´åˆ†ç‰‡ï¼Ÿ=> "),(0,a.Wm)("strong",null,"å¦‚æœæˆ‘ä»¬å¯ä»¥æŠŠæ›´æ–°åšå¾—è¶³å¤Ÿå¿«çš„è¯ï¼Œç†è®ºä¸Šå°±ä¸éœ€è¦æ—¶é—´åˆ†ç‰‡äº†"),(0,a.Uk)("ã€‚")],-1),ln=(0,a.Wm)("p",null,[(0,a.Wm)("img",{src:t,alt:"æ—¶é—´åˆ‡ç‰‡"})],-1),en=(0,a.Wm)("p",null,"Shared mutable state is the root of all evilï¼ˆå…±äº«çš„å¯å˜çŠ¶æ€æ˜¯ä¸‡æ¶ä¹‹æºï¼‰",-1),an=(0,a.Wm)("p",null,"JavaScript ä¸­çš„å¯¹è±¡ä¸€èˆ¬æ˜¯å¯å˜çš„ï¼ˆMutableï¼‰ï¼Œå› ä¸ºä½¿ç”¨äº†å¼•ç”¨èµ‹å€¼ï¼Œæ–°çš„å¯¹è±¡ç®€å•çš„å¼•ç”¨äº†åŸå§‹å¯¹è±¡ï¼Œæ”¹å˜æ–°çš„å¯¹è±¡å°†å½±å“åˆ°åŸå§‹å¯¹è±¡ã€‚ä¸€èˆ¬çš„åšæ³•æ˜¯ä½¿ç”¨ shallowCopyï¼ˆæµ…æ‹·è´ï¼‰æˆ– deepCopyï¼ˆæ·±æ‹·è´ï¼‰æ¥é¿å…è¢«ä¿®æ”¹ï¼Œä½†è¿™æ ·åšé€ æˆäº† CPU å’Œå†…å­˜çš„æµªè´¹ã€‚",-1),tn=(0,a.Wm)("p",null,[(0,a.Uk)("Immutable Dataæ˜¯æŒ‡ä¸€æ—¦åˆ›å»ºï¼Œå°±ä¸èƒ½è¢«æ›´æ”¹çš„æ•°æ®ã€‚å¯¹Immutableå¯¹è±¡çš„ä¿®æ”¹éƒ½ä¼šè¿”å›æ–°çš„Immutableå¯¹è±¡ã€‚å¹¶ä¸”ç›®å‰çš„Immutableåº“ï¼Œéƒ½å®ç°äº†ç»“æ„å…±äº«ï¼Œå³"),(0,a.Wm)("strong",null,"å¦‚æœå¯¹è±¡æ ‘ä¸­ä¸€ä¸ªèŠ‚ç‚¹å‘ç”Ÿå˜åŒ–ï¼Œåªä¿®æ”¹è¿™ä¸ªèŠ‚ç‚¹å’Œå—å®ƒå½±å“çš„çˆ¶èŠ‚ç‚¹ï¼Œå…¶å®ƒèŠ‚ç‚¹åˆ™è¿›è¡Œå…±äº«ï¼Œé¿å…äº†deepCopyæŠŠæ‰€æœ‰èŠ‚ç‚¹éƒ½å¤åˆ¶ä¸€éå¸¦æ¥çš„æ€§èƒ½æŸè€—ã€‚")],-1),sn=(0,a.Wm)("h3",{id:"å®ç°ä¸€ä¸ªæ—¶é—´åˆ‡ç‰‡-å°†é•¿ä»»åŠ¡åˆ†è§£æˆæ›´å°çš„ä»»åŠ¡-é¿å…é˜»å¡ä¸»è¿›ç¨‹ã€‚",tabindex:"-1"},[(0,a.Wm)("a",{class:"header-anchor",href:"#å®ç°ä¸€ä¸ªæ—¶é—´åˆ‡ç‰‡-å°†é•¿ä»»åŠ¡åˆ†è§£æˆæ›´å°çš„ä»»åŠ¡-é¿å…é˜»å¡ä¸»è¿›ç¨‹ã€‚","aria-hidden":"true"},"#"),(0,a.Uk)(" å®ç°ä¸€ä¸ªæ—¶é—´åˆ‡ç‰‡ï¼šå°†é•¿ä»»åŠ¡åˆ†è§£æˆæ›´å°çš„ä»»åŠ¡ï¼Œé¿å…é˜»å¡ä¸»è¿›ç¨‹ã€‚")],-1),mn=(0,a.Wm)("p",null,"é€šå¸¸åŒæ­¥ä»£ç æ‰§è¡Œè¶…è¿‡ 50 æ¯«ç§’æ˜¯ä¸€ä¸ªå¾ˆé•¿çš„ä»»åŠ¡ã€‚é•¿ä»»åŠ¡ä¼šé˜»å¡ä¸»çº¿ç¨‹ï¼Œå¯¼è‡´é¡µé¢å¡é¡¿ï¼Œæˆ‘ä»¬æœ‰ä¸¤ç§è§£å†³æ–¹æ¡ˆï¼ŒWeb workerå’ŒTime slicingã€‚æˆ‘ä»¬åº”è¯¥å°½é‡ä½¿ç”¨ web workerï¼Œä½†æ˜¯ web worker æ— æ³•è®¿é—® DOMã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦æŠŠä¸€ä¸ªé•¿ä»»åŠ¡æ‹†åˆ†æˆå°ä»»åŠ¡ï¼Œåˆ†å¸ƒåœ¨å®ä»»åŠ¡é˜Ÿåˆ—ä¸­ã€‚",-1),rn=(0,a.Wm)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,a.Wm)("pre",{class:"language-javascript"},[(0,a.Wm)("code",null,[(0,a.Uk)(),(0,a.Wm)("span",{class:"token keyword"},"function"),(0,a.Uk)(),(0,a.Wm)("span",{class:"token function"},"ts"),(0,a.Uk)(),(0,a.Wm)("span",{class:"token punctuation"},"("),(0,a.Wm)("span",{class:"token parameter"},"gen"),(0,a.Wm)("span",{class:"token punctuation"},")"),(0,a.Uk)(),(0,a.Wm)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n  "),(0,a.Wm)("span",{class:"token keyword"},"if"),(0,a.Uk)(),(0,a.Wm)("span",{class:"token punctuation"},"("),(0,a.Wm)("span",{class:"token keyword"},"typeof"),(0,a.Uk)(" gen "),(0,a.Wm)("span",{class:"token operator"},"==="),(0,a.Uk)(),(0,a.Wm)("span",{class:"token string"},"'function'"),(0,a.Wm)("span",{class:"token punctuation"},")"),(0,a.Uk)(" gen "),(0,a.Wm)("span",{class:"token operator"},"="),(0,a.Uk)(),(0,a.Wm)("span",{class:"token function"},"gen"),(0,a.Wm)("span",{class:"token punctuation"},"("),(0,a.Wm)("span",{class:"token punctuation"},")"),(0,a.Uk)("\n  "),(0,a.Wm)("span",{class:"token keyword"},"if"),(0,a.Uk)(),(0,a.Wm)("span",{class:"token punctuation"},"("),(0,a.Wm)("span",{class:"token operator"},"!"),(0,a.Uk)("gen "),(0,a.Wm)("span",{class:"token operator"},"||"),(0,a.Uk)(),(0,a.Wm)("span",{class:"token keyword"},"typeof"),(0,a.Uk)(" gen"),(0,a.Wm)("span",{class:"token punctuation"},"."),(0,a.Uk)("next "),(0,a.Wm)("span",{class:"token operator"},"!=="),(0,a.Uk)(),(0,a.Wm)("span",{class:"token string"},"'function'"),(0,a.Wm)("span",{class:"token punctuation"},")"),(0,a.Uk)(),(0,a.Wm)("span",{class:"token keyword"},"return"),(0,a.Uk)("\n\n  "),(0,a.Wm)("span",{class:"token keyword"},"return"),(0,a.Uk)(),(0,a.Wm)("span",{class:"token keyword"},"function"),(0,a.Uk)(),(0,a.Wm)("span",{class:"token function"},"next"),(0,a.Uk)(),(0,a.Wm)("span",{class:"token punctuation"},"("),(0,a.Wm)("span",{class:"token punctuation"},")"),(0,a.Uk)(),(0,a.Wm)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n    "),(0,a.Wm)("span",{class:"token keyword"},"const"),(0,a.Uk)(" start "),(0,a.Wm)("span",{class:"token operator"},"="),(0,a.Uk)(" performance"),(0,a.Wm)("span",{class:"token punctuation"},"."),(0,a.Wm)("span",{class:"token function"},"now"),(0,a.Wm)("span",{class:"token punctuation"},"("),(0,a.Wm)("span",{class:"token punctuation"},")"),(0,a.Uk)("\n    "),(0,a.Wm)("span",{class:"token keyword"},"let"),(0,a.Uk)(" res "),(0,a.Wm)("span",{class:"token operator"},"="),(0,a.Uk)(),(0,a.Wm)("span",{class:"token keyword"},"null"),(0,a.Uk)("\n    "),(0,a.Wm)("span",{class:"token keyword"},"do"),(0,a.Uk)(),(0,a.Wm)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n      res "),(0,a.Wm)("span",{class:"token operator"},"="),(0,a.Uk)(" gen"),(0,a.Wm)("span",{class:"token punctuation"},"."),(0,a.Wm)("span",{class:"token function"},"next"),(0,a.Wm)("span",{class:"token punctuation"},"("),(0,a.Wm)("span",{class:"token punctuation"},")"),(0,a.Uk)("\n    "),(0,a.Wm)("span",{class:"token punctuation"},"}"),(0,a.Uk)(),(0,a.Wm)("span",{class:"token keyword"},"while"),(0,a.Wm)("span",{class:"token punctuation"},"("),(0,a.Wm)("span",{class:"token operator"},"!"),(0,a.Uk)("res"),(0,a.Wm)("span",{class:"token punctuation"},"."),(0,a.Uk)("done "),(0,a.Wm)("span",{class:"token operator"},"&&"),(0,a.Uk)(" performance"),(0,a.Wm)("span",{class:"token punctuation"},"."),(0,a.Wm)("span",{class:"token function"},"now"),(0,a.Wm)("span",{class:"token punctuation"},"("),(0,a.Wm)("span",{class:"token punctuation"},")"),(0,a.Uk)(),(0,a.Wm)("span",{class:"token operator"},"-"),(0,a.Uk)(" start "),(0,a.Wm)("span",{class:"token operator"},"<"),(0,a.Uk)(),(0,a.Wm)("span",{class:"token number"},"25"),(0,a.Wm)("span",{class:"token punctuation"},")"),(0,a.Wm)("span",{class:"token punctuation"},";"),(0,a.Uk)("\n\n    "),(0,a.Wm)("span",{class:"token keyword"},"if"),(0,a.Uk)(),(0,a.Wm)("span",{class:"token punctuation"},"("),(0,a.Uk)("res"),(0,a.Wm)("span",{class:"token punctuation"},"."),(0,a.Uk)("done"),(0,a.Wm)("span",{class:"token punctuation"},")"),(0,a.Uk)(),(0,a.Wm)("span",{class:"token keyword"},"return"),(0,a.Uk)("\n    "),(0,a.Wm)("span",{class:"token function"},"setTimeout"),(0,a.Wm)("span",{class:"token punctuation"},"("),(0,a.Uk)("next"),(0,a.Wm)("span",{class:"token punctuation"},")"),(0,a.Uk)("\n  "),(0,a.Wm)("span",{class:"token punctuation"},"}"),(0,a.Uk)("\n"),(0,a.Wm)("span",{class:"token punctuation"},"}"),(0,a.Uk)("\n")])]),(0,a.Wm)("div",{class:"line-numbers"},[(0,a.Wm)("span",{class:"line-number"},"1"),(0,a.Wm)("br"),(0,a.Wm)("span",{class:"line-number"},"2"),(0,a.Wm)("br"),(0,a.Wm)("span",{class:"line-number"},"3"),(0,a.Wm)("br"),(0,a.Wm)("span",{class:"line-number"},"4"),(0,a.Wm)("br"),(0,a.Wm)("span",{class:"line-number"},"5"),(0,a.Wm)("br"),(0,a.Wm)("span",{class:"line-number"},"6"),(0,a.Wm)("br"),(0,a.Wm)("span",{class:"line-number"},"7"),(0,a.Wm)("br"),(0,a.Wm)("span",{class:"line-number"},"8"),(0,a.Wm)("br"),(0,a.Wm)("span",{class:"line-number"},"9"),(0,a.Wm)("br"),(0,a.Wm)("span",{class:"line-number"},"10"),(0,a.Wm)("br"),(0,a.Wm)("span",{class:"line-number"},"11"),(0,a.Wm)("br"),(0,a.Wm)("span",{class:"line-number"},"12"),(0,a.Wm)("br"),(0,a.Wm)("span",{class:"line-number"},"13"),(0,a.Wm)("br"),(0,a.Wm)("span",{class:"line-number"},"14"),(0,a.Wm)("br"),(0,a.Wm)("span",{class:"line-number"},"15"),(0,a.Wm)("br")])],-1),un=(0,a.Wm)("h2",{id:"reactçš„diff",tabindex:"-1"},[(0,a.Wm)("a",{class:"header-anchor",href:"#reactçš„diff","aria-hidden":"true"},"#"),(0,a.Uk)(" Reactçš„diff")],-1),on=(0,a.Wm)("h3",{id:"_1-åŒå±‚æ¯”å¯¹ç­–ç•¥",tabindex:"-1"},[(0,a.Wm)("a",{class:"header-anchor",href:"#_1-åŒå±‚æ¯”å¯¹ç­–ç•¥","aria-hidden":"true"},"#"),(0,a.Uk)(" 1. åŒå±‚æ¯”å¯¹ç­–ç•¥")],-1),Wn=(0,a.Wm)("p",null,[(0,a.Wm)("strong",null,"åªåšåŒå±‚çº§çš„æ¯”å¯¹ï¼Œå¿½ç•¥è·¨å±‚çº§çš„å…ƒç´ ç§»åŠ¨"),(0,a.Uk)("ã€‚")],-1),kn=(0,a.Wm)("p",null,[(0,a.Uk)("æ­¤æ—¶ï¼Œæ€§èƒ½å·²ç»å¤§å¤§çš„æå‡äº†ï¼Œæ—¶é—´å¤æ‚åº¦ä¼˜åŒ–æˆ "),(0,a.Wm)("code",null,"O(n^2)"),(0,a.Uk)("ã€‚å¦å¤–ï¼Œ"),(0,a.Wm)("strong",null,"å¦‚æœçœŸå‡ºç°è·¨å±‚çº§ç§»åŠ¨æ—¶ï¼Œä¼šç›´æ¥å°†æ—§å…ƒç´ åˆ é™¤ï¼Œåœ¨æ–°çš„ä½ç½®é‡æ–°åˆ›å»ºï¼Œä¹Ÿèƒ½ä¿è¯æ›´æ–°çš„å‡†ç¡®è¡Œã€‚ä½†å¯èƒ½ä¼šå¯¼è‡´çŠ¶æ€çš„ä¸¢å¤±ã€‚")],-1),cn=(0,a.Wm)("h3",{id:"_2-å”¯ä¸€æ ‡è¯†ç­–ç•¥",tabindex:"-1"},[(0,a.Wm)("a",{class:"header-anchor",href:"#_2-å”¯ä¸€æ ‡è¯†ç­–ç•¥","aria-hidden":"true"},"#"),(0,a.Uk)(" 2. å”¯ä¸€æ ‡è¯†ç­–ç•¥")],-1),dn=(0,a.Wm)("p",null,[(0,a.Uk)("ç”¨ "),(0,a.Wm)("code",null,"type"),(0,a.Uk)(" + "),(0,a.Wm)("code",null,"key"),(0,a.Uk)(" ä¾¿å¯ç¡®åˆ‡åœ°è¯†åˆ«å‡ºèŠ‚ç‚¹çš„å‡†ç¡®ä½ç½®ï¼Œä»è€Œå°†æ—¶é—´å¤æ‚åº¦ä¼˜åŒ–æˆäº† "),(0,a.Wm)("code",null,"O(n)"),(0,a.Uk)("ã€‚")],-1),pn=(0,a.Wm)("h3",{id:"_3-ç»„ä»¶æ¨¡å¼ç­–ç•¥",tabindex:"-1"},[(0,a.Wm)("a",{class:"header-anchor",href:"#_3-ç»„ä»¶æ¨¡å¼ç­–ç•¥","aria-hidden":"true"},"#"),(0,a.Uk)(" 3. ç»„ä»¶æ¨¡å¼ç­–ç•¥")],-1),Un=(0,a.Wm)("p",null,[(0,a.Wm)("strong",null,"ç¢ç‰‡åŒ– è™šæ‹ŸDOM"),(0,a.Uk)("ã€‚")],-1),fn=(0,a.Wm)("p",null,[(0,a.Wm)("strong",null,"å­çº§åˆ—è¡¨çš„æ¯”å¯¹ï¼Œæ‰æ˜¯æ•´ä¸ª diff ç®—æ³•ä¸­æœ€æ ¸å¿ƒä¸”æœ€è€ƒéªŒæ€§èƒ½çš„éƒ¨åˆ†ã€‚")],-1),hn=(0,a.Wm)("p",null,[(0,a.Uk)("åˆ—è¡¨æ¯”å¯¹ ("),(0,a.Wm)("code",null,"diffChildren"),(0,a.Uk)(") é‡‡ç”¨ "),(0,a.Wm)("strong",null,"ä¸¤ç«¯æ¯”å¯¹ç®—æ³• + Keyå€¼æ¯”å¯¹"),(0,a.Uk)(" ç®—æ³•ï¼Œå¤§å¤§æé«˜äº† "),(0,a.Wm)("code",null,"Diff"),(0,a.Uk)(" æ•ˆç‡ï¼›")],-1),gn=(0,a.Wm)("ul",null,[(0,a.Wm)("li",null,[(0,a.Uk)("ä¼˜å…ˆä»æ–°æ—§åˆ—è¡¨çš„ "),(0,a.Wm)("strong",null,"ä¸¤ç«¯"),(0,a.Uk)(" çš„ "),(0,a.Wm)("strong",null,"å››ä¸ªèŠ‚ç‚¹"),(0,a.Uk)(" å¼€å§‹è¿›è¡Œ "),(0,a.Wm)("strong",null,"ä¸¤ä¸¤æ¯”å¯¹"),(0,a.Uk)("ï¼›")]),(0,a.Wm)("li",null,[(0,a.Uk)("å¦‚æœå‡ä¸åŒ¹é…ï¼Œåˆ™å°è¯• "),(0,a.Wm)("strong",null,"key å€¼æ¯”å¯¹"),(0,a.Uk)("ï¼› "),(0,a.Wm)("ul",null,[(0,a.Wm)("li",null,[(0,a.Uk)("å¦‚ "),(0,a.Wm)("strong",null,"key å€¼"),(0,a.Uk)(" åŒ¹é…ä¸Šï¼Œåˆ™ç§»åŠ¨å¹¶æ›´æ–°èŠ‚ç‚¹ï¼›")]),(0,a.Wm)("li",null,[(0,a.Uk)("å¦‚ æœªåŒ¹é…ä¸Šï¼Œåˆ™åœ¨å¯¹åº”çš„ä½ç½®ä¸Š "),(0,a.Wm)("strong",null,"æ–°å¢æ–°èŠ‚ç‚¹"),(0,a.Uk)("ï¼›")])])]),(0,a.Wm)("li",null,[(0,a.Uk)("æœ€åå…¨éƒ¨æ¯”å¯¹å®Œåï¼Œåˆ—è¡¨ä¸­ "),(0,a.Wm)("strong",null,"å‰©ä½™çš„èŠ‚ç‚¹"),(0,a.Uk)(" æ‰§è¡Œ "),(0,a.Wm)("strong",null,"åˆ é™¤æˆ–æ–°å¢"),(0,a.Uk)("ï¼›")])],-1),bn=(0,a.Wm)("h3",{id:"å®è·µå»ºè®®",tabindex:"-1"},[(0,a.Wm)("a",{class:"header-anchor",href:"#å®è·µå»ºè®®","aria-hidden":"true"},"#"),(0,a.Uk)(" å®è·µå»ºè®®")],-1),vn=(0,a.Wm)("h4",{id:"_1-propsçš„ä¼ é€’",tabindex:"-1"},[(0,a.Wm)("a",{class:"header-anchor",href:"#_1-propsçš„ä¼ é€’","aria-hidden":"true"},"#"),(0,a.Uk)(" 1."),(0,a.Wm)("code",null,"props"),(0,a.Uk)("çš„ä¼ é€’")],-1),wn=(0,a.Wm)("p",null,[(0,a.Wm)("code",null,"JSX"),(0,a.Uk)(" ä¸­æ ‡ç­¾å¯ä»¥ä¼ é€’å±æ€§ï¼Œæœ€ç®€å•çš„æ–¹å¼å°±æ˜¯ "),(0,a.Wm)("strong",null,"å€¼ä¼ é€’")],-1),xn=(0,a.Wm)("h4",{id:"_2-æ¸²æŸ“æ ‘ç»“æ„ç¨³å®š",tabindex:"-1"},[(0,a.Wm)("a",{class:"header-anchor",href:"#_2-æ¸²æŸ“æ ‘ç»“æ„ç¨³å®š","aria-hidden":"true"},"#"),(0,a.Uk)(" 2. æ¸²æŸ“æ ‘ç»“æ„ç¨³å®š")],-1),Rn=(0,a.Wm)("p",null,[(0,a.Wm)("code",null,"diff"),(0,a.Uk)(" ç®—æ³•é‡‡ç”¨çš„ "),(0,a.Wm)("strong",null,"åŒå±‚æ¯”å¯¹"),(0,a.Uk)(" çš„ç­–ç•¥ï¼Œå› æ­¤å¦‚æœæ˜¯è·¨å±‚çº§çš„ç§»åŠ¨ï¼Œå°±ä¼š é‡æ–°åˆ›å»ºæ–°èŠ‚ç‚¹å¹¶åˆ é™¤åŸæ¥çš„èŠ‚ç‚¹ï¼Œå¹¶ä¸æ˜¯çœŸæ­£çš„ç§»åŠ¨ã€‚æ‰€ä»¥ä¿è¯ "),(0,a.Wm)("strong",null,"æ¸²æŸ“æ ‘ç»“æ„ç¨³å®š"),(0,a.Uk)(" å¯ä»¥æœ‰æ•ˆæé«˜æ€§èƒ½ã€‚")],-1),yn=(0,a.Wm)("h4",{id:"_3-key-çš„ä½¿ç”¨",tabindex:"-1"},[(0,a.Wm)("a",{class:"header-anchor",href:"#_3-key-çš„ä½¿ç”¨","aria-hidden":"true"},"#"),(0,a.Uk)(" 3. key çš„ä½¿ç”¨")],-1),_n=(0,a.Wm)("p",null,[(0,a.Uk)("å½“éœ€è¦åˆ—è¡¨ä¸­ "),(0,a.Wm)("code",null,"VNode"),(0,a.Uk)(" çš„ "),(0,a.Wm)("strong",null,"åŒå±‚ç§»åŠ¨"),(0,a.Uk)(" æ—¶ï¼ŒåŠ ä¸Šå”¯ä¸€æ ‡è¯† "),(0,a.Wm)("code",null,"key"),(0,a.Uk)(" èƒ½æœ‰æ•ˆæé«˜ "),(0,a.Wm)("code",null,"diff"),(0,a.Uk)(" æ€§èƒ½ï¼Œé¿å…å…ƒç´ çš„ "),(0,a.Wm)("strong",null,"é‡æ¸²æŸ“"),(0,a.Uk)("ã€‚")],-1),Cn=(0,a.Wm)("h4",{id:"_4-ç»„ä»¶åŒ–",tabindex:"-1"},[(0,a.Wm)("a",{class:"header-anchor",href:"#_4-ç»„ä»¶åŒ–","aria-hidden":"true"},"#"),(0,a.Uk)(" 4. ç»„ä»¶åŒ–")],-1),Fn=(0,a.Wm)("ul",null,[(0,a.Wm)("li",null,[(0,a.Wm)("strong",null,"å¤ç”¨æ€§é«˜"),(0,a.Uk)(" ä¸”éœ€è¦ "),(0,a.Wm)("strong",null,"é¢‘ç¹æ›´æ–°"),(0,a.Uk)(" çš„èŠ‚ç‚¹æŠ½ç¦»æˆ "),(0,a.Wm)("strong",null,"ç»„ä»¶"),(0,a.Uk)("ï¼Œä¼šä½¿ "),(0,a.Wm)("code",null,"VNode Tree"),(0,a.Uk)(" ç¢ç‰‡åŒ–ï¼Œä»è€Œèƒ½æ›´æœ‰æ•ˆåœ°è¿›è¡Œ "),(0,a.Wm)("strong",null,"å±€éƒ¨æ›´æ–°"),(0,a.Uk)("ï¼Œå‡å°‘è§¦å‘ "),(0,a.Wm)("code",null,"diff"),(0,a.Uk)(" çš„èŠ‚ç‚¹æ•°é‡ï¼Œæé«˜æ€§èƒ½ä¸”æé«˜ä»£ç å¤ç”¨ç‡ï¼›")]),(0,a.Wm)("li",null,[(0,a.Uk)("ä½†ç”±äºç»„ä»¶çš„åˆ›å»ºå’Œ "),(0,a.Wm)("code",null,"diff"),(0,a.Uk)(" ç›¸æ¯”æ™®é€šèŠ‚ç‚¹æ¥è¯´æ›´ä¸º "),(0,a.Wm)("strong",null,"å¤æ‚"),(0,a.Uk)("ï¼Œéœ€è¦æ‰§è¡Œä¾‹å¦‚ç”Ÿå‘½å‘¨æœŸï¼Œç»„ä»¶æ¯”å¯¹ ç­‰ï¼Œæ‰€ä»¥éœ€è¦ "),(0,a.Wm)("strong",null,"åˆç†è§„åˆ’"),(0,a.Uk)("ï¼Œé¿å… "),(0,a.Wm)("strong",null,"è¿‡åˆ†ç»„ä»¶åŒ–"),(0,a.Uk)(" å¯¼è‡´ "),(0,a.Wm)("strong",null,"å†…å­˜çš„æµªè´¹å’Œå½±å“æ€§èƒ½"),(0,a.Uk)("ï¼Œä¸€äº› "),(0,a.Wm)("strong",null,"å¤ç”¨ç‡ä½çš„é™æ€å…ƒç´ "),(0,a.Uk)(" ç›´æ¥ä½¿ç”¨å…ƒç´ èŠ‚ç‚¹æ›´ä¸ºåˆç†ï¼›")])],-1),In=(0,a.Wm)("h3",{id:"diff-ç­–ç•¥",tabindex:"-1"},[(0,a.Wm)("a",{class:"header-anchor",href:"#diff-ç­–ç•¥","aria-hidden":"true"},"#"),(0,a.Uk)(" diff ç­–ç•¥")],-1),On=(0,a.Wm)("ol",null,[(0,a.Wm)("li",null,"Web UI ä¸­ DOM èŠ‚ç‚¹è·¨å±‚çº§çš„ç§»åŠ¨æ“ä½œç‰¹åˆ«å°‘ï¼Œå¯ä»¥å¿½ç•¥ä¸è®¡ã€‚"),(0,a.Wm)("li",null,"æ‹¥æœ‰ç›¸åŒç±»çš„ä¸¤ä¸ªç»„ä»¶å°†ä¼šç”Ÿæˆç›¸ä¼¼çš„æ ‘å½¢ç»“æ„ï¼Œæ‹¥æœ‰ä¸åŒç±»çš„ä¸¤ä¸ªç»„ä»¶å°†ä¼šç”Ÿæˆä¸åŒçš„æ ‘å½¢ç»“æ„ã€‚"),(0,a.Wm)("li",null,"å¯¹äºåŒä¸€å±‚çº§çš„ä¸€ç»„å­èŠ‚ç‚¹ï¼Œå®ƒä»¬å¯ä»¥é€šè¿‡å”¯ä¸€ id è¿›è¡ŒåŒºåˆ†ã€‚")],-1),Mn=(0,a.Wm)("p",null,"åŸºäºä»¥ä¸Šä¸‰ä¸ªå‰æç­–ç•¥ï¼ŒReact åˆ†åˆ«å¯¹ tree diffã€component diff ä»¥åŠ element diff è¿›è¡Œç®—æ³•ä¼˜åŒ–ï¼Œäº‹å®ä¹Ÿè¯æ˜è¿™ä¸‰ä¸ªå‰æç­–ç•¥æ˜¯åˆç†ä¸”å‡†ç¡®çš„ï¼Œå®ƒä¿è¯äº†æ•´ä½“ç•Œé¢æ„å»ºçš„æ€§èƒ½ã€‚",-1),Dn=(0,a.Wm)("h3",{id:"tree-diff",tabindex:"-1"},[(0,a.Wm)("a",{class:"header-anchor",href:"#tree-diff","aria-hidden":"true"},"#"),(0,a.Uk)(" tree diff")],-1),En=(0,a.Wm)("p",null,"åŸºäºç­–ç•¥ä¸€ï¼ŒReact å¯¹æ ‘çš„ç®—æ³•è¿›è¡Œäº†ç®€æ´æ˜äº†çš„ä¼˜åŒ–ï¼Œå³å¯¹æ ‘è¿›è¡Œåˆ†å±‚æ¯”è¾ƒï¼Œä¸¤æ£µæ ‘åªä¼šå¯¹åŒä¸€å±‚æ¬¡çš„èŠ‚ç‚¹è¿›è¡Œæ¯”è¾ƒã€‚",-1),Vn=(0,a.Wm)("h3",{id:"component-diff",tabindex:"-1"},[(0,a.Wm)("a",{class:"header-anchor",href:"#component-diff","aria-hidden":"true"},"#"),(0,a.Uk)(" component diff")],-1),Sn=(0,a.Wm)("p",null,"React æ˜¯åŸºäºç»„ä»¶æ„å»ºåº”ç”¨çš„ï¼Œå¯¹äºç»„ä»¶é—´çš„æ¯”è¾ƒæ‰€é‡‡å–çš„ç­–ç•¥ä¹Ÿæ˜¯ç®€æ´é«˜æ•ˆã€‚",-1),qn=(0,a.Wm)("ul",null,[(0,a.Wm)("li",null,"å¦‚æœæ˜¯åŒä¸€ç±»å‹çš„ç»„ä»¶ï¼ŒæŒ‰ç…§åŸç­–ç•¥ç»§ç»­æ¯”è¾ƒ virtual DOM treeã€‚"),(0,a.Wm)("li",null,"å¦‚æœä¸æ˜¯ï¼Œåˆ™å°†è¯¥ç»„ä»¶åˆ¤æ–­ä¸º dirty componentï¼Œä»è€Œæ›¿æ¢æ•´ä¸ªç»„ä»¶ä¸‹çš„æ‰€æœ‰å­èŠ‚ç‚¹ã€‚"),(0,a.Wm)("li",null,"å¯¹äºåŒä¸€ç±»å‹çš„ç»„ä»¶ï¼Œæœ‰å¯èƒ½å…¶ Virtual DOM æ²¡æœ‰ä»»ä½•å˜åŒ–ï¼Œå¦‚æœèƒ½å¤Ÿç¡®åˆ‡çš„çŸ¥é“è¿™ç‚¹é‚£å¯ä»¥èŠ‚çœå¤§é‡çš„ diff è¿ç®—æ—¶é—´ï¼Œå› æ­¤ React å…è®¸ç”¨æˆ·é€šè¿‡ shouldComponentUpdate() æ¥åˆ¤æ–­è¯¥ç»„ä»¶æ˜¯å¦éœ€è¦è¿›è¡Œ diffã€‚")],-1),Nn=(0,a.Wm)("h3",{id:"element-diff",tabindex:"-1"},[(0,a.Wm)("a",{class:"header-anchor",href:"#element-diff","aria-hidden":"true"},"#"),(0,a.Uk)(" element diff")],-1),Tn=(0,a.Wm)("p",null,[(0,a.Uk)("å½“èŠ‚ç‚¹å¤„äºåŒä¸€å±‚çº§æ—¶ï¼ŒReact diff æä¾›äº†ä¸‰ç§èŠ‚ç‚¹æ“ä½œï¼Œåˆ†åˆ«ä¸ºï¼š"),(0,a.Wm)("strong",null,"INSERT_MARKUP"),(0,a.Uk)("ï¼ˆæ’å…¥ï¼‰ã€"),(0,a.Wm)("strong",null,"MOVE_EXISTING"),(0,a.Uk)("ï¼ˆç§»åŠ¨ï¼‰å’Œ "),(0,a.Wm)("strong",null,"REMOVE_NODE"),(0,a.Uk)("ï¼ˆåˆ é™¤ï¼‰ã€‚")],-1),Pn=(0,a.Wm)("ul",null,[(0,a.Wm)("li",null,[(0,a.Wm)("strong",null,"INSERT_MARKUP"),(0,a.Uk)("ï¼Œæ–°çš„ component ç±»å‹ä¸åœ¨è€é›†åˆé‡Œï¼Œ å³æ˜¯å…¨æ–°çš„èŠ‚ç‚¹ï¼Œéœ€è¦å¯¹æ–°èŠ‚ç‚¹æ‰§è¡Œæ’å…¥æ“ä½œã€‚")]),(0,a.Wm)("li",null,[(0,a.Wm)("strong",null,"MOVE_EXISTING"),(0,a.Uk)("ï¼Œåœ¨è€é›†åˆæœ‰æ–° component ç±»å‹ï¼Œä¸” element æ˜¯å¯æ›´æ–°çš„ç±»å‹ï¼ŒgenerateComponentChildren å·²è°ƒç”¨ receiveComponentï¼Œè¿™ç§æƒ…å†µä¸‹ prevChild=nextChildï¼Œå°±éœ€è¦åšç§»åŠ¨æ“ä½œï¼Œå¯ä»¥å¤ç”¨ä»¥å‰çš„ DOM èŠ‚ç‚¹ã€‚")]),(0,a.Wm)("li",null,[(0,a.Wm)("strong",null,"REMOVE_NODE"),(0,a.Uk)("ï¼Œè€ component ç±»å‹ï¼Œåœ¨æ–°é›†åˆé‡Œä¹Ÿæœ‰ï¼Œä½†å¯¹åº”çš„ element ä¸åŒåˆ™ä¸èƒ½ç›´æ¥å¤ç”¨å’Œæ›´æ–°ï¼Œéœ€è¦æ‰§è¡Œåˆ é™¤æ“ä½œï¼Œæˆ–è€…è€ component ä¸åœ¨æ–°é›†åˆé‡Œçš„ï¼Œä¹Ÿéœ€è¦æ‰§è¡Œåˆ é™¤æ“ä½œã€‚")])],-1),jn=(0,a.Wm)("p",null,"React æå‡ºä¼˜åŒ–ç­–ç•¥ï¼šå…è®¸å¼€å‘è€…å¯¹åŒä¸€å±‚çº§çš„åŒç»„å­èŠ‚ç‚¹ï¼Œæ·»åŠ å”¯ä¸€ key è¿›è¡ŒåŒºåˆ†ï¼Œè™½ç„¶åªæ˜¯å°å°çš„æ”¹åŠ¨ï¼Œæ€§èƒ½ä¸Šå´å‘ç”Ÿäº†ç¿»å¤©è¦†åœ°çš„å˜åŒ–ï¼",-1),zn=(0,a.Wm)("p",null,"é‚£ä¹ˆï¼Œå¦‚æ­¤é«˜æ•ˆçš„ diff åˆ°åº•æ˜¯å¦‚ä½•è¿ä½œçš„å‘¢ï¼Ÿè®©æˆ‘ä»¬é€šè¿‡æºç è¿›è¡Œè¯¦ç»†åˆ†æã€‚",-1),Jn=(0,a.Wm)("p",null,[(0,a.Uk)("é¦–å…ˆå¯¹æ–°é›†åˆçš„èŠ‚ç‚¹è¿›è¡Œå¾ªç¯éå†ï¼Œfor (name in nextChildren)ï¼Œ"),(0,a.Wm)("strong",null,"é€šè¿‡å”¯ä¸€ key å¯ä»¥åˆ¤æ–­æ–°è€é›†åˆä¸­æ˜¯å¦å­˜åœ¨ç›¸åŒçš„èŠ‚ç‚¹"),(0,a.Uk)("ï¼Œif (prevChild === nextChild)ï¼Œå¦‚æœå­˜åœ¨ç›¸åŒèŠ‚ç‚¹ï¼Œåˆ™è¿›è¡Œç§»åŠ¨æ“ä½œï¼Œä½†åœ¨ç§»åŠ¨å‰éœ€è¦å°†å½“å‰èŠ‚ç‚¹åœ¨è€é›†åˆä¸­çš„ä½ç½®ä¸ lastIndex è¿›è¡Œæ¯”è¾ƒï¼Œif (child._mountIndex < lastIndex)ï¼Œåˆ™è¿›è¡ŒèŠ‚ç‚¹ç§»åŠ¨æ“ä½œï¼Œå¦åˆ™ä¸æ‰§è¡Œè¯¥æ“ä½œã€‚è¿™æ˜¯ä¸€ç§"),(0,a.Wm)("strong",null,"é¡ºåºä¼˜åŒ–æ‰‹æ®µ"),(0,a.Uk)("ï¼ŒlastIndex ä¸€ç›´åœ¨æ›´æ–°ï¼Œè¡¨ç¤ºè®¿é—®è¿‡çš„èŠ‚ç‚¹åœ¨è€é›†åˆä¸­æœ€å³çš„ä½ç½®ï¼ˆå³æœ€å¤§çš„ä½ç½®ï¼‰ï¼Œ"),(0,a.Wm)("strong",null,"å¦‚æœæ–°é›†åˆä¸­å½“å‰è®¿é—®çš„èŠ‚ç‚¹æ¯” lastIndex å¤§ï¼Œè¯´æ˜å½“å‰è®¿é—®èŠ‚ç‚¹åœ¨è€é›†åˆä¸­å°±æ¯”ä¸Šä¸€ä¸ªèŠ‚ç‚¹ä½ç½®é åï¼Œåˆ™è¯¥èŠ‚ç‚¹ä¸ä¼šå½±å“å…¶ä»–èŠ‚ç‚¹çš„ä½ç½®ï¼Œå› æ­¤ä¸ç”¨æ·»åŠ åˆ°å·®å¼‚é˜Ÿåˆ—ä¸­ï¼Œå³ä¸æ‰§è¡Œç§»åŠ¨æ“ä½œï¼Œåªæœ‰å½“è®¿é—®çš„èŠ‚ç‚¹æ¯” lastIndex å°æ—¶ï¼Œæ‰éœ€è¦è¿›è¡Œç§»åŠ¨æ“ä½œã€‚")],-1),An=(0,a.Wm)("p",null,"å»ºè®®ï¼šåœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå°½é‡å‡å°‘ç±»ä¼¼å°†æœ€åä¸€ä¸ªèŠ‚ç‚¹ç§»åŠ¨åˆ°åˆ—è¡¨é¦–éƒ¨çš„æ“ä½œï¼Œå½“èŠ‚ç‚¹æ•°é‡è¿‡å¤§æˆ–æ›´æ–°æ“ä½œè¿‡äºé¢‘ç¹æ—¶ï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šä¼šå½±å“ React çš„æ¸²æŸ“æ€§èƒ½ã€‚",-1),Gn=(0,a.Wm)("h3",{id:"vueå’Œreactçš„diffç®—æ³•çš„åŒºåˆ«",tabindex:"-1"},[(0,a.Wm)("a",{class:"header-anchor",href:"#vueå’Œreactçš„diffç®—æ³•çš„åŒºåˆ«","aria-hidden":"true"},"#"),(0,a.Uk)(" vueå’Œreactçš„diffç®—æ³•çš„åŒºåˆ«")],-1),Kn=(0,a.Wm)("p",null,"vueå’Œreactçš„diffç®—æ³•ï¼Œéƒ½æ˜¯å¿½ç•¥è·¨çº§æ¯”è¾ƒï¼ŒåªåšåŒçº§æ¯”è¾ƒã€‚vue diffæ—¶è°ƒåŠ¨patchå‡½æ•°ï¼Œå‚æ•°æ˜¯vnodeå’ŒoldVnodeï¼Œåˆ†åˆ«ä»£è¡¨æ–°æ—§èŠ‚ç‚¹ã€‚",-1),Xn=(0,a.Wm)("ol",null,[(0,a.Wm)("li",null,[(0,a.Wm)("p",null,[(0,a.Uk)("vueæ¯”å¯¹èŠ‚ç‚¹ï¼Œå½“"),(0,a.Wm)("strong",null,"èŠ‚ç‚¹å…ƒç´ ç±»å‹ç›¸åŒï¼Œä½†æ˜¯classNameä¸åŒ"),(0,a.Uk)("ï¼Œè®¤ä¸ºæ˜¯"),(0,a.Wm)("strong",null,"ä¸åŒç±»å‹"),(0,a.Uk)("å…ƒç´ ï¼Œåˆ é™¤é‡å»ºï¼Œè€Œreactä¼šè®¤ä¸ºæ˜¯"),(0,a.Wm)("strong",null,"åŒç±»å‹èŠ‚ç‚¹"),(0,a.Uk)("ï¼Œåªæ˜¯ä¿®æ”¹èŠ‚ç‚¹å±æ€§")])]),(0,a.Wm)("li",null,[(0,a.Wm)("p",null,[(0,a.Uk)("vueçš„åˆ—è¡¨æ¯”å¯¹ï¼Œé‡‡ç”¨"),(0,a.Wm)("strong",null,"ä»ä¸¤ç«¯åˆ°ä¸­é—´çš„æ¯”å¯¹æ–¹å¼ï¼Œè€Œreactåˆ™é‡‡ç”¨ä»å·¦åˆ°å³ä¾æ¬¡æ¯”å¯¹"),(0,a.Uk)("çš„æ–¹å¼ã€‚å½“ä¸€ä¸ªé›†åˆï¼Œåªæ˜¯æŠŠæœ€åä¸€ä¸ªèŠ‚ç‚¹ç§»åŠ¨åˆ°äº†ç¬¬ä¸€ä¸ªï¼Œreactä¼šæŠŠå‰é¢çš„èŠ‚ç‚¹ä¾æ¬¡ç§»åŠ¨ï¼Œè€Œvueåªä¼šæŠŠæœ€åä¸€ä¸ªèŠ‚ç‚¹ç§»åŠ¨åˆ°ç¬¬ä¸€ä¸ªã€‚æ€»ä½“ä¸Šï¼Œvueçš„å¯¹æ¯”æ–¹å¼æ›´é«˜æ•ˆã€‚")])])],-1),Hn=(0,a.Wm)("h2",{id:"ä¼˜åŒ–ç­–ç•¥",tabindex:"-1"},[(0,a.Wm)("a",{class:"header-anchor",href:"#ä¼˜åŒ–ç­–ç•¥","aria-hidden":"true"},"#"),(0,a.Uk)(" ä¼˜åŒ–ç­–ç•¥")],-1),Ln=(0,a.Wm)("p",null,[(0,a.Uk)("å›åˆ°æ€§èƒ½ä¼˜åŒ–è¿™ä¸ªç‚¹ï¼Œä»è¿™é‡Œçš„ç®€å•å®ç°æˆ‘ä»¬å¯ä»¥çœ‹å‡º: è™½ç„¶å¼‚æ­¥åŒ–äº†æ›´æ–°æµç¨‹ï¼Œä½†æœ¬è´¨ä¸Šä»ç„¶æ²¡æœ‰è§£å†³ å¤æ‚çš„ç»„ä»¶ "),(0,a.Wm)("code",null,"diff"),(0,a.Uk)(" å¸¦æ¥é•¿æ—¶é—´æ‰§è¡Œé˜»å¡ä¸»è¿›ç¨‹ã€‚æˆ‘è®°å¾—ä»¥å‰æ–‡ç« æœ‰è¯´è¿‡: "),(0,a.Wm)("strong",null,"æœ€æœ‰æ•ˆçš„æ€§èƒ½ä¼˜åŒ–æ–¹å¼å°±æ˜¯ å¼‚æ­¥ã€ä»»åŠ¡åˆ†å‰² å’Œ ç¼“å­˜ç­–ç•¥ã€‚")],-1),Yn=(0,a.Wm)("h3",{id:"_1-å¼‚æ­¥åŒ–",tabindex:"-1"},[(0,a.Wm)("a",{class:"header-anchor",href:"#_1-å¼‚æ­¥åŒ–","aria-hidden":"true"},"#"),(0,a.Uk)(" 1. å¼‚æ­¥åŒ–:")],-1),Bn=(0,a.Wm)("p",null,[(0,a.Uk)("é€šè¿‡æŠŠåŒæ­¥çš„ä»£ç æ‰§è¡Œå˜æˆå¼‚æ­¥ï¼ŒæŠŠä¸²è¡Œå˜æˆå¹¶è¡Œï¼Œå¯ä»¥æœ‰æ•ˆæé«˜ "),(0,a.Wm)("strong",null,"æ‰§è¡Œçš„æ—¶é—´åˆ©ç”¨ç‡"),(0,a.Uk)(" å’Œ "),(0,a.Wm)("strong",null,"ä¿è¯ä»£ç ä¼˜å…ˆçº§"),(0,a.Uk)("ã€‚ä»è¿™é‡Œå¯ä»¥å»¶ä¼¸å‡ºä¸¤ç§ä¼˜åŒ–æ–¹å‘:")],-1),Qn=(0,a.Wm)("ul",null,[(0,a.Wm)("li",null,[(0,a.Wm)("ol",null,[(0,a.Wm)("li",null,[(0,a.Wm)("strong",null,"å¼‚æ­¥"),(0,a.Uk)(": å¦‚æˆ‘ä»¬ä¸Šé¢æ‰€åšçš„ä¼˜åŒ–ï¼Œè¿™æ ·èƒ½ä¿è¯ä¸»è¿›ç¨‹çš„æ‰§è¡Œä¼˜å…ˆçº§ï¼Œä¿è¯é¡µé¢æ¸²æŸ“æˆ–è€…æ›´ä¸»è¦ä»»åŠ¡çš„ä¼˜å…ˆæ‰§è¡Œï¼Œé¿å…å¡é¡¿ï¼›")])])]),(0,a.Wm)("li",null,[(0,a.Wm)("ol",null,[(0,a.Wm)("li",null,[(0,a.Wm)("strong",null,"å¹¶è¡Œ"),(0,a.Uk)(": é€šè¿‡æŠŠæŸäº›é«˜æ¶ˆè€—çš„æ“ä½œæ”¾åˆ° "),(0,a.Wm)("strong",null,"éä¸»è¿›ç¨‹"),(0,a.Uk)(" ä¸Šæ‰§è¡Œï¼Œä¾‹å¦‚ worker çº¿ç¨‹ã€‚ä¸è¿‡ç”±äº "),(0,a.Wm)("code",null,"diff"),(0,a.Uk)(" æœ¬èº«å°±è¾ƒä¸ºå¤æ‚ï¼Œè¿˜è¦éœ€è¦å¤„ç†å¥½ä¸»è¿›ç¨‹ä¸çº¿ç¨‹ä¹‹é—´çš„äº¤äº’ï¼Œä¼šå¯¼è‡´å¤æ‚åº¦æé«˜ï¼Œä½†ä¹Ÿå¹¶éä¸å¯è¡Œï¼Œåç»­ä¹Ÿè®¸æ˜¯ä¸ªä¼˜åŒ–æ–¹å‘ã€‚")])]),(0,a.Wm)("ul",null,[(0,a.Wm)("li",null,"ä¾‹å¦‚æˆ‘å°±åœ¨æ€è€ƒåœ¨è¿™é‡Œå¼•å…¥ wasm çš„å¯èƒ½æ€§ï¼Œä»£ä»·ä¸æ”¶ç›Šæ¯”å¦‚ä½•ï¼Œæœ‰å…´è¶£çš„ç«¥é‹å¯ä»¥ä¸€èµ·æ¢è®¨ã€‚")])])],-1),Zn=(0,a.Wm)("h3",{id:"_2-ä»»åŠ¡åˆ†å‰²",tabindex:"-1"},[(0,a.Wm)("a",{class:"header-anchor",href:"#_2-ä»»åŠ¡åˆ†å‰²","aria-hidden":"true"},"#"),(0,a.Uk)(" 2. ä»»åŠ¡åˆ†å‰²")],-1),$n=(0,a.Wm)("p",null,[(0,a.Uk)("å°†åŸæœ¬ä¼šé˜»å¡ä¸»è¿›ç¨‹çš„ "),(0,a.Wm)("strong",null,"å¤§å—é€»è¾‘æ‰§è¡Œè¿›è¡Œæ‹†è§£ï¼Œåˆ†å‰²æˆä¸€ä¸ªä¸ªå°ä»»åŠ¡"),(0,a.Uk)("ã€‚ä»è€Œå¯ä»¥åœ¨é€»è¾‘ä¸­æ‰¾åˆ°åˆé€‚çš„æ—¶æœºç‚¹ "),(0,a.Wm)("strong",null,"åˆ†æ®µæ‰§è¡Œ"),(0,a.Uk)("ï¼Œå³ "),(0,a.Wm)("strong",null,"ä¸ä¼šé˜»å¡ä¸»è¿›ç¨‹ï¼Œåˆå¯ä»¥è®©ä»£ç å¿«é€Ÿé«˜æ•ˆçš„æ‰§è¡Œï¼Œæœ€å¤§åŒ–åˆ©ç”¨ç‰©ç†èµ„æºã€‚")],-1),nl=(0,a.Wm)("p",null,[(0,a.Uk)("Facebook çš„å¤§ç¥ä»¬é€‰æ‹©äº†è¿™æ¡ä¼˜åŒ–æ–¹å‘ï¼Œè¿™å°±æ˜¯ React 16 æ–°å¼•å…¥çš„ "),(0,a.Wm)("code",null,"Fiber"),(0,a.Uk)(" ç†å¿µçš„æœ€ä¸»è¦ç›®çš„ã€‚ä¸Šé¢æˆ‘ä»¬å®ç°çš„ "),(0,a.Wm)("code",null,"diff"),(0,a.Uk)(" ä¸­ï¼Œæœ‰ç€ä¸€ä¸ªå¾ˆå¤§çš„éšœç¢:")],-1),ll=(0,a.Wm)("p",null,[(0,a.Wm)("strong",null,"ä¸€æ£µå®Œæ•´ è™šæ‹ŸDOMæ ‘ æ›´æ–°ï¼Œå¿…é¡»ä¸€æ¬¡æ€§æ›´æ–°å®Œæˆï¼Œä¸­é—´æ— æ³•è¢«æš‚åœï¼Œä¹Ÿæ— æ³•è¢«åˆ†å‰²ã€‚")],-1),el=(0,a.Wm)("p",null,[(0,a.Uk)("è€Œ "),(0,a.Wm)("code",null,"Fiber"),(0,a.Uk)(" æœ€ä¸»è¦çš„åŠŸèƒ½å°±æ˜¯ "),(0,a.Wm)("strong",null,"æŒ‡é’ˆæ˜ å°„ï¼Œä¿å­˜ä¸Šä¸€ä¸ªæ›´æ–°çš„ç»„ä»¶ä¸ä¸‹ä¸€æ­¥éœ€è¦æ›´æ–°çš„ç»„ä»¶"),(0,a.Uk)("ï¼Œä»è€Œå®Œæˆ "),(0,a.Wm)("strong",null,"å¯æš‚åœå¯é‡å¯"),(0,a.Uk)("ã€‚è®¡ç®—è¿›ç¨‹çš„è¿è¡Œæ—¶é—´ï¼Œåˆ©ç”¨æµè§ˆå™¨çš„ "),(0,a.Wm)("code",null,"requestIdleCallback"),(0,a.Uk)(" ä¸ "),(0,a.Wm)("code",null,"requestAnimationFrame"),(0,a.Uk)(" æ¥å£ï¼Œå½“æœ‰ä¼˜å…ˆçº§æ›´é«˜çš„ä»»åŠ¡æ—¶ï¼Œä¼˜å…ˆæ‰§è¡Œï¼Œæš‚åœä¸‹ä¸€ä¸ªç»„ä»¶çš„æ›´æ–°ã€‚å¾…ç©ºé—²æ—¶å†é‡å¯æ›´æ–°ã€‚")],-1),al=(0,a.Wm)("p",null,[(0,a.Wm)("strong",null,"(window.requestIdleCallback()æ–¹æ³•å°†åœ¨æµè§ˆå™¨çš„ç©ºé—²æ—¶æ®µå†…è°ƒç”¨çš„å‡½æ•°æ’é˜Ÿã€‚)")],-1),tl=(0,a.Wm)("p",null,[(0,a.Wm)("strong",null,"(window.requestAnimationFrame() å‘Šè¯‰æµè§ˆå™¨â€”ä½ å¸Œæœ›æ‰§è¡Œä¸€ä¸ªåŠ¨ç”»ï¼Œå¹¶ä¸”è¦æ±‚æµè§ˆå™¨åœ¨ä¸‹æ¬¡é‡ç»˜ä¹‹å‰è°ƒç”¨æŒ‡å®šçš„å›è°ƒå‡½æ•°æ›´æ–°åŠ¨ç”»ã€‚è¯¥æ–¹æ³•éœ€è¦ä¼ å…¥ä¸€ä¸ªå›è°ƒå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¯¥å›è°ƒå‡½æ•°ä¼šåœ¨æµè§ˆå™¨ä¸‹ä¸€æ¬¡é‡ç»˜ä¹‹å‰æ‰§è¡Œ)")],-1),sl=(0,a.Wm)("p",null,[(0,a.Wm)("code",null,"Fiber"),(0,a.Uk)(" ç®—æ˜¯ä¸€ç§ç¼–ç¨‹æ€æƒ³ï¼Œåœ¨å…¶å®ƒè¯­è¨€ä¸­ä¹Ÿæœ‰è®¸å¤šåº”ç”¨("),(0,a.Wm)("code",null,"Ruby Fiber"),(0,a.Uk)(")ã€‚æ ¸å¿ƒæ€æƒ³æ˜¯:")],-1),ml=(0,a.Wm)("p",null,[(0,a.Wm)("strong",null,"ä»»åŠ¡æ‹†åˆ†å’ŒååŒï¼Œä¸»åŠ¨æŠŠæ‰§è¡Œæƒäº¤ç»™ä¸»çº¿ç¨‹ï¼Œä½¿ä¸»çº¿ç¨‹æœ‰æ—¶é—´ç©ºæŒ¡å¤„ç†å…¶ä»–é«˜ä¼˜å…ˆçº§ä»»åŠ¡ã€‚")],-1),rl={render:function(n,l){const e=(0,a.up)("OutboundLink");return(0,a.wg)(),(0,a.j4)(a.HY,null,[s,m,r,u,o,W,i,k,c,d,p,(0,a.Wm)("p",null,[U,f,h,(0,a.Wm)("a",g,[b,(0,a.Wm)(e)]),v]),w,x,R,(0,a.Wm)("ul",null,[(0,a.Wm)("li",null,[y,_,C,(0,a.Wm)("a",F,[I,(0,a.Wm)(e)]),O,(0,a.Wm)("a",M,[D,(0,a.Wm)(e)]),E]),(0,a.Wm)("li",null,[V,(0,a.Wm)("a",S,[q,(0,a.Wm)(e)]),N,T,P])]),j,z,J,A,G,K,X,H,L,Y,B,Q,Z,$,nn,ln,en,an,tn,sn,mn,rn,un,on,Wn,kn,cn,dn,pn,Un,fn,hn,gn,bn,vn,wn,xn,Rn,yn,_n,Cn,Fn,In,On,Mn,Dn,En,Vn,Sn,qn,Nn,Tn,Pn,jn,zn,Jn,An,Gn,Kn,Xn,Hn,Ln,Yn,Bn,Qn,Zn,$n,nl,ll,el,al,tl,sl,ml],64)}}}}]);